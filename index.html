<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Edwin Study Decks</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at top, #0b021f, #050013 55%, #020008 100%);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      color: #e5e7eb;
    }

    .app {
      width: 100%;
      max-width: 520px;
      padding: 16px;
    }

    .brand {
      font-size: 14px;
      font-weight: 600;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: #c4b5fd;
      margin-bottom: 8px;
      text-align: center;
    }

    .card-shell {
      background: radial-gradient(circle at top left, #111827, #020012);
      border-radius: 20px;
      padding: 18px 18px 12px 18px;
      box-shadow: 0 22px 48px rgba(0, 0, 0, 0.75);
      border: 1px solid rgba(129, 140, 248, 0.35);
    }

    .header-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      font-size: 13px;
      color: #9ca3af;
      gap: 8px;
    }

    .header-row span strong {
      color: #e5e7eb;
    }

    .deck-control {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 3px;
    }

    .deck-label {
      font-size: 11px;
      color: #9ca3af;
    }

    select {
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      border-radius: 999px;
      border: 1px solid rgba(129, 140, 248, 0.9);
      padding: 4px 10px;
      font-size: 12px;
      cursor: pointer;
      max-width: 220px;
      outline: none;
    }

    select:hover {
      border-color: #a855f7;
    }

    .deck-name {
      font-size: 11px;
      color: #a5b4fc;
      margin-bottom: 6px;
      text-align: left;
    }

    .card-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #9ca3af;
      margin-bottom: 6px;
      text-align: center;
    }

    .card {
      background: radial-gradient(circle at top, #1e1b4b, #020012);
      border-radius: 16px;
      padding: 22px 18px;
      min-height: 140px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-size: 18px;
      line-height: 1.4;
      cursor: pointer;
      border: 1px solid rgba(129, 140, 248, 0.5);
      box-shadow: 0 16px 35px rgba(15, 23, 42, 0.9);
      transition: transform 0.15s ease, box-shadow 0.15s ease,
        border-color 0.15s ease, background 0.15s ease;
    }

    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 22px 48px rgba(15, 23, 42, 1);
      border-color: #a855f7;
    }

    .card-face {
      width: 100%;
    }

    .card-face p {
      margin: 0;
      word-break: break-word;
    }

    .controls-main {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 12px;
    }

    .row {
      display: flex;
      gap: 8px;
      width: 100%;
    }

    .row > button {
      flex: 1;
    }

    button {
      border-radius: 999px;
      border: 1px solid rgba(31, 41, 55, 0.9);
      padding: 8px 10px;
      font-size: 14px;
      font-weight: 500;
      background: rgba(15, 23, 42, 0.95);
      color: #e5e7eb;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      transition: background 0.15s ease, border-color 0.15s ease,
        transform 0.12s ease, box-shadow 0.12s ease;
      white-space: nowrap;
    }

    button:hover {
      background: rgba(24, 24, 48, 0.98);
      border-color: rgba(129, 140, 248, 0.7);
      box-shadow: 0 8px 18px rgba(17, 24, 39, 0.9);
      transform: translateY(-1px);
    }

    button:active {
      transform: translateY(0);
      box-shadow: none;
    }

    .btn-primary {
      background: linear-gradient(to right, #4f46e5, #8b5cf6);
      border-color: #6366f1;
      color: #f9fafb;
    }

    .btn-primary:hover {
      background: linear-gradient(to right, #4338ca, #a855f7);
      border-color: #a855f7;
    }

    .btn-good {
      background: rgba(22, 163, 74, 0.09);
      border-color: rgba(34, 197, 94, 0.85);
      color: #bbf7d0;
    }

    .btn-bad {
      background: rgba(239, 68, 68, 0.07);
      border-color: rgba(248, 113, 113, 0.8);
      color: #fecaca;
    }

    .footer-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
      font-size: 12px;
      color: #9ca3af;
    }

    .score {
      font-weight: 500;
      color: #e5e7eb;
    }

    .hint {
      font-size: 11px;
      text-align: right;
      color: #6b7280;
    }

    .import-panel {
      margin-top: 12px;
      padding-top: 10px;
      border-top: 1px solid rgba(55, 65, 81, 0.8);
      font-size: 11px;
      color: #9ca3af;
    }

    .import-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #a5b4fc;
      margin-bottom: 4px;
    }

    .import-row {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    textarea {
      width: 100%;
      min-height: 90px;
      max-height: 160px;
      resize: vertical;
      background: rgba(15, 23, 42, 0.95);
      color: #e5e7eb;
      border-radius: 10px;
      border: 1px solid rgba(75, 85, 99, 0.9);
      padding: 6px 8px;
      font-size: 11px;
      font-family: ui-monospace, SFMonoRegular, Menlo, Monaco, Consolas,
        "Liberation Mono", "Courier New", monospace;
      outline: none;
    }

    textarea::placeholder {
      color: #6b7280;
    }

    .import-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-top: 4px;
    }

    .import-hint {
      font-size: 10px;
      color: #6b7280;
    }

    .import-status {
      margin-top: 4px;
      font-size: 11px;
      min-height: 14px;
    }

    @media (max-width: 520px) {
      .card {
        font-size: 16px;
        min-height: 120px;
      }

      button {
        font-size: 13px;
        padding: 7px 8px;
      }

      select {
        max-width: 170px;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="brand">Edwin Study Decks</div>

    <div class="card-shell">
      <div class="header-row">
        <span>
          Card <strong id="cardIndex">1</strong> of <strong id="cardTotal">1</strong>
        </span>
        <div class="deck-control">
          <span class="deck-label">Deck</span>
          <select id="deckSelect"></select>
        </div>
      </div>

      <div class="deck-name" id="deckName">Flashcards</div>

      <div class="card-label" id="cardLabel">Question</div>

      <div class="card" id="card">
        <div class="card-face">
          <p id="cardText">Loading...</p>
        </div>
      </div>

      <div class="controls-main">
        <div class="row">
          <button id="prevBtn">◀ Prev</button>
          <button id="flipBtn" class="btn-primary">Flip</button>
          <button id="nextBtn">Next ▶</button>
        </div>

        <div class="row">
          <button id="wrongBtn" class="btn-bad">✗ Wrong</button>
          <button id="rightBtn" class="btn-good">✓ Right</button>
        </div>

        <div class="row">
          <button id="shuffleBtn">Shuffle deck</button>
          <button id="resetBtn">Reset score</button>
        </div>
      </div>

      <div class="footer-row">
        <div>
          Score:
          <span class="score" id="scoreText">0 right / 0 total</span>
        </div>
        <div class="hint">
          Click card or press Space to flip
        </div>
      </div>

      <div class="import-panel">
        <div class="import-title">JSON decks (advanced)</div>
        <div class="import-row">
          <textarea id="jsonInput" placeholder='{
  "My Deck": [
    { "front": "Question", "back": "Answer" }
  ]
}'></textarea>
          <div class="import-actions">
            <button id="importBtn">Load JSON decks</button>
            <div class="import-hint">
              Paste JSON with { "Deck name": [ { "front": "...", "back": "..." } ] }
            </div>
          </div>
          <div id="importStatus" class="import-status"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // allow replacement by JSON importer
    let decks = {
      "Example Deck": [
        { front: "What is the capital of France?", back: "Paris" },
        { front: "2 + 2 = ?", back: "4" },
        { front: "HTTP stands for?", back: "HyperText Transfer Protocol" }
      ],

      "AZ-900 Basics": [
        { front: "What is Azure?", back: "Microsoft's cloud platform." },
        { front: "What does IaaS stand for?", back: "Infrastructure as a Service." },
        { front: "What does PaaS stand for?", back: "Platform as a Service." },
        { front: "What does SaaS stand for?", back: "Software as a Service." }
      ],

      "CHAMP Hardware": [
        { front: "What does ITAM stand for?", back: "IT Asset Management." },
        { front: "Main goal of hardware lifecycle?", back: "Control cost, risk, and value across the hardware life." },
        { front: "Example of hardware asset", back: "Laptop, desktop, server, switch, mobile device." }
      ]
    };

    let deckKey = Object.keys(decks)[0] || "";
    let cards = deckKey ? decks[deckKey].slice() : [];
    let index = 0;
    let showingBack = false;
    let correctCount = 0;
    let totalAnswered = 0;

    const cardElement = document.getElementById("card");
    const cardText = document.getElementById("cardText");
    const cardLabel = document.getElementById("cardLabel");
    const cardIndex = document.getElementById("cardIndex");
    const cardTotal = document.getElementById("cardTotal");
    const scoreText = document.getElementById("scoreText");
    const deckName = document.getElementById("deckName");
    const deckSelect = document.getElementById("deckSelect");

    const jsonInput = document.getElementById("jsonInput");
    const importBtn = document.getElementById("importBtn");
    const importStatus = document.getElementById("importStatus");

    function renderCard() {
      if (!cards.length) {
        cardText.textContent = "No cards. Add some in the code or load JSON decks.";
        cardLabel.textContent = "Empty";
        cardIndex.textContent = "0";
        cardTotal.textContent = "0";
        return;
      }
      const current = cards[index];
      cardText.textContent = showingBack ? current.back : current.front;
      cardLabel.textContent = showingBack ? "Answer" : "Question";
      cardIndex.textContent = (index + 1).toString();
      cardTotal.textContent = cards.length.toString();
    }

    function updateScore() {
      scoreText.textContent = correctCount + " right / " + totalAnswered + " total";
    }

    function flipCard() {
      if (!cards.length) return;
      showingBack = !showingBack;
      renderCard();
    }

    function move(delta) {
      if (!cards.length) return;
      index = (index + delta + cards.length) % cards.length;
      showingBack = false;
      renderCard();
    }

    function mark(correct) {
      if (!cards.length) return;
      totalAnswered += 1;
      if (correct) correctCount += 1;
      updateScore();
      move(1);
    }

    function shuffleDeck() {
      if (!cards.length) return;
      for (let i = cards.length - 1; i > 0; i -= 1) {
        const j = Math.floor(Math.random() * (i + 1));
        const temp = cards[i];
        cards[i] = cards[j];
        cards[j] = temp;
      }
      index = 0;
      showingBack = false;
      renderCard();
    }

    function resetProgress() {
      correctCount = 0;
      totalAnswered = 0;
      updateScore();
    }

    function setDeck(newKey) {
      if (!decks[newKey]) return;
      deckKey = newKey;
      cards = decks[deckKey].slice();
      index = 0;
      showingBack = false;
      correctCount = 0;
      totalAnswered = 0;
      deckName.textContent = deckKey || "Flashcards";
      updateScore();
      renderCard();
    }

    function populateDeckSelect() {
      deckSelect.innerHTML = "";
      const keys = Object.keys(decks);
      if (!keys.length) {
        const opt = document.createElement("option");
        opt.value = "";
        opt.textContent = "No decks loaded";
        deckSelect.appendChild(opt);
        deckSelect.disabled = true;
        return;
      }
      deckSelect.disabled = false;
      keys.forEach(function(name) {
        const opt = document.createElement("option");
        opt.value = name;
        opt.textContent = name;
        deckSelect.appendChild(opt);
      });
      if (!deckKey || !decks[deckKey]) {
        deckKey = keys[0];
      }
      deckSelect.value = deckKey;
    }

    function showImportStatus(message, ok) {
      importStatus.textContent = message;
      if (!message) {
        importStatus.style.color = "#9ca3af";
        return;
      }
      importStatus.style.color = ok ? "#4ade80" : "#fca5a5";
    }

    importBtn.onclick = function() {
      const text = jsonInput.value.trim();
      if (!text) {
        showImportStatus("Paste JSON in the box first.", false);
        return;
      }
      try {
        const parsed = JSON.parse(text);
        if (typeof parsed !== "object" || parsed === null || Array.isArray(parsed)) {
          throw new Error("JSON root must be an object with deck names as keys.");
        }
        decks = parsed;
        deckKey = Object.keys(decks)[0] || "";
        cards = deckKey ? decks[deckKey].slice() : [];
        index = 0;
        showingBack = false;
        correctCount = 0;
        totalAnswered = 0;
        populateDeckSelect();
        deckName.textContent = deckKey || "Flashcards";
        updateScore();
        renderCard();
        showImportStatus("Loaded decks from JSON.", true);
      } catch (err) {
        showImportStatus("Invalid JSON. Check quotes, commas, and structure.", false);
      }
    };

    document.getElementById("flipBtn").onclick = flipCard;
    cardElement.onclick = flipCard;

    document.getElementById("prevBtn").onclick = function() { move(-1); };
    document.getElementById("nextBtn").onclick = function() { move(1); };

    document.getElementById("rightBtn").onclick = function() { mark(true); };
    document.getElementById("wrongBtn").onclick = function() { mark(false); };

    document.getElementById("shuffleBtn").onclick = shuffleDeck;
    document.getElementById("resetBtn").onclick = resetProgress;

    deckSelect.onchange = function(e) {
      setDeck(e.target.value);
    };

    document.addEventListener("keydown", function(e) {
      if (e.target.tagName === "INPUT" || e.target.tagName === "TEXTAREA") {
        return;
      }
      if (e.code === "Space") {
        e.preventDefault();
        flipCard();
      } else if (e.key === "ArrowRight") {
        move(1);
      } else if (e.key === "ArrowLeft") {
        move(-1);
      } else if (e.key === "1") {
        mark(true);
      } else if (e.key === "2") {
        mark(false);
      }
    });

    populateDeckSelect();
    deckName.textContent = deckKey || "Flashcards";
    updateScore();
    renderCard();
  </script>
</body>
</html>
